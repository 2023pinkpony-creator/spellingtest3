<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spelling Test — Fry Words List 3 + Extra Words</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6fa;
      color: #222;
      margin: 0;
      padding: 0;
    }
    .wrap {
      max-width: 700px;
      margin: 20px auto;
      padding: 20px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }
    h1 {
      text-align: center;
    }
    .panel {
      margin: 20px 0;
    }
    input[type=text] {
      padding: 8px;
      font-size: 16px;
      width: 100%;
      margin: 10px 0;
    }
    button {
      padding: 10px 15px;
      margin: 5px 5px 0 0;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Spelling Test — Fry Words List 3 + Extra Words</h1>

    <!-- Setup Section -->
    <section id="setup" class="panel">
      <label for="fileInput">Upload Custom Word List (txt or csv)</label><br>
      <input type="file" id="fileInput" accept=".txt,.csv" /><br><br>
      <button id="startBtn">Start Test</button>
    </section>

    <!-- Quiz Section -->
    <section id="quiz" class="panel" style="display:none">
      <div id="question"></div>
      <input id="answer" type="text" spellcheck="false" />
      <br>
      <button id="submitBtn">Submit</button>
      <button id="sentenceBtn">Say in a Sentence</button>
    </section>

    <!-- Summary Section -->
    <section id="summary" class="panel" style="display:none"></section>
  </div>

<script>
// Fry Words List 3 plus 10 extra spelling words
let WORDS = [
  "will","up","other","about","out","many","then","them","these","so","some","her","would","make","like","him","into","time","has","look","two","more","write","go","see",
  "niece","meaningful","conceited","baleen","field","disease","reactivate","peony","seafaring","theme"
];

// Example sentences
const SENTENCES = {
  "will":"I will go to the store.",
  "up":"She looked up at the sky.",
  "other":"I like this book more than the other.",
  "about":"We talked about the movie.",
  "out":"He went out to play.",
  "many":"There are many stars in the sky.",
  "then":"Wash your hands and then eat.",
  "them":"Give the books to them.",
  "these":"These shoes are new.",
  "so":"I was tired, so I went to bed.",
  "some":"She bought some apples.",
  "her":"This is her bag.",
  "would":"He would like some tea.",
  "make":"Can you make a cake?",
  "like":"I like ice cream.",
  "him":"She called him on the phone.",
  "into":"She went into the house.",
  "time":"It is time for lunch.",
  "has":"She has two dogs.",
  "look":"Look at that rainbow!",
  "two":"I have two pencils.",
  "more":"I want more juice.",
  "write":"Please write your name.",
  "go":"We will go to the park.",
  "see":"Did you see the bird?",
  "niece":"Her niece is five years old.",
  "meaningful":"It was a meaningful conversation.",
  "conceited":"He is too conceited to admit he was wrong.",
  "baleen":"Whales use baleen to filter food.",
  "field":"The soccer field is green.",
  "disease":"The disease spread quickly.",
  "reactivate":"You can reactivate your account online.",
  "peony":"The peony is a beautiful flower.",
  "seafaring":"He comes from a seafaring family.",
  "theme":"The party had a beach theme."
};

let currentIndex = 0;
let correct = 0;

// Handle custom word list upload
document.getElementById('fileInput').addEventListener('change', (event) => {
  const file = event.target.files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = (e) => {
    const text = e.target.result;
    const words = text.split(/\r?\n|,/).map(w => w.trim()).filter(w => w);
    if(words.length > 0){
      WORDS = words;
      alert(`Loaded custom list with ${WORDS.length} words.`);
    }
  };
  reader.readAsText(file);
});

// Start button
document.getElementById('startBtn').addEventListener('click', () => {
  document.getElementById('setup').style.display = 'none';
  document.getElementById('quiz').style.display = 'block';
  document.getElementById('summary').style.display = 'none';
  currentIndex = 0;
  correct = 0;
  showQuestion();
});

// Submit button
document.getElementById('submitBtn').addEventListener('click', () => {
  const ans = document.getElementById('answer').value.trim();
  if(ans.toLowerCase() === WORDS[currentIndex].toLowerCase()){
    correct++;
  }
  currentIndex++;
  if(currentIndex < WORDS.length){
    showQuestion();
  } else {
    showSummary();
  }
});

// Sentence button
document.getElementById('sentenceBtn').addEventListener('click', () => {
  const word = WORDS[currentIndex];
  if(SENTENCES[word]){
    speak(SENTENCES[word]);
  } else {
    speak(`Here is the word in a sentence: ${word}.`);
  }
});

// Show current word
function showQuestion(){
  document.getElementById('answer').value = '';
  document.getElementById('question').innerText = `Word ${currentIndex+1} of ${WORDS.length}`;
  speak(WORDS[currentIndex]);
}

// Summary
function showSummary(){
  document.getElementById('quiz').style.display = 'none';
  document.getElementById('summary').style.display = 'block';
  const total = WORDS.length;
  const percent = Math.round((correct/total)*100);
  document.getElementById('summary').innerHTML = `
    <p>You got ${correct} out of ${total} correct. Accuracy: ${percent}%</p>
    <button id="restartBtn">Restart Test</button>
  `;
  document.getElementById('restartBtn').addEventListener('click', () => {
    document.getElementById('summary').style.display = 'none';
    document.getElementById('setup').style.display = 'block';
  });
}

// Speak
function speak(text){
  const utter = new SpeechSynthesisUtterance(text);
  speechSynthesis.speak(utter);
}
</script>
</body>
</html>